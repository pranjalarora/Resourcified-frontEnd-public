import e,{useRef as n,useState as t,useEffect as r}from"react";import o from"react-loading-skeleton";function a(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===t&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}a("/* common */\n.Container {\n  text-align: left;\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n  border-radius: 7px;\n  border: 1px solid #ccc;\n  color: black;\n  transition: 0.3s all ease;\n  height: fit-content; }\n  .Container:hover {\n    background-color: #fafafa !important;\n    cursor: pointer; }\n\n.Secondary {\n  color: #646464; }\n\n.LowerContainer {\n  padding: 10px; }\n\n.Title {\n  margin-top: 0;\n  margin-bottom: 10px; }\n\n.Image {\n  width: 100%;\n  border-top-left-radius: 7px;\n  border-top-right-radius: 7px;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  height: 30vh; }\n\n.SiteDetails {\n  margin-top: 10px; }\n\n/* sm */\n@media (max-width: 640px) {\n  .Description {\n    display: none; } }\n\n/* md */\n@media (min-width: 641px) and (max-width: 768px) {\n  .Description {\n    display: none; } }\n");a(".skeleton-container {\n  border-radius: 7px;\n  border: 1px solid #eee; }\n\n.skeleton-lower-container {\n  padding: 10px; }\n");var i=function(n){var t=n.width,r=void 0===t?"100%":t,a=n.imageHeight,i=void 0===a?"30vh":a,l=n.margin;return e.createElement("div",{className:"skeleton-container",style:{width:r,margin:l}},e.createElement(o,{width:r,height:i}),e.createElement("div",{className:"skeleton-lower-container"},e.createElement(o,{count:3})))},l=function(o){var a=o.url,l=o.className,c=void 0===l?"":l,d=o.width,s=o.height,m=o.descriptionLength,u=o.borderRadius,p=o.imageHeight,h=o.textAlign,g=o.margin,f=o.fallback,v=void 0===f?null:f,b=o.backgroundColor,x=void 0===b?"white":b,y=o.primaryTextColor,k=void 0===y?"black":y,w=o.secondaryTextColor,E=void 0===w?"rgb(100, 100, 100)":w,C=o.borderColor,N=void 0===C?"#ccc":C,T=o.showLoader,L=void 0===T||T,S=o.customLoader,R=void 0===S?null:S,D=n(!0),A=t(),H=A[0],I=A[1],B=t(!0),F=B[0],j=B[1];if(r((function(){return D.current=!0,j(!0),fetch("https://rlp-proxy.herokuapp.com/v2?url="+a).then((function(e){return e.json()})).then((function(e){D.current&&(I(e.metadata),j(!1))})).catch((function(e){console.error(e),console.error("No metadata could be found for the given URL."),D.current&&(I(null),j(!1))})),function(){D.current=!1}}),[a]),F&&L)return R?e.createElement(e.Fragment,null,R):e.createElement(i,{width:d,imageHeight:p,margin:g});if(!H)return e.createElement(e.Fragment,null,v);var z=H.image,U=H.description,_=H.title,q=H.siteName,G=H.hostname;return e.createElement("div",{onClick:function(){window.open(a,"_blank")},className:"Container "+c,style:{width:d,height:s,borderRadius:u,textAlign:h,margin:g,backgroundColor:x,borderColor:N}},e.createElement("div",{"data-testid":"image-container",style:{borderTopLeftRadius:u,borderTopRightRadius:u,backgroundImage:"url("+z+")",height:p},className:"Image"}),e.createElement("div",{className:"LowerContainer"},e.createElement("h3",{className:"Title",style:{color:k}},_),U&&e.createElement("span",{className:"Description Secondary",style:{color:E}},m&&U.length>m?U.slice(0,m)+"...":U),e.createElement("div",{className:"Secondary SiteDetails",style:{color:E}},q&&e.createElement("span",null,q," â€¢ "),e.createElement("span",null,G))))};export{l as LinkPreview};
//# sourceMappingURL=index.esm.js.map
