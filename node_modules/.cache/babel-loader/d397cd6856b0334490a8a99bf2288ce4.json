{"ast":null,"code":"import _classCallCheck from\"/home/parth/Documents/Github/resourcified-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/parth/Documents/Github/resourcified-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/parth/Documents/Github/resourcified-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/parth/Documents/Github/resourcified-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{Link,Redirect}from'react-router-dom';import moment from'moment';import Avatar from'react-avatar';import{LinkPreview}from'@dhaiwat10/react-link-preview';import configData from'./config.json';export var Likedposts=/*#__PURE__*/function(_Component){_inherits(Likedposts,_Component);var _super=_createSuper(Likedposts);function Likedposts(){var _this;_classCallCheck(this,Likedposts);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={posts:[],subscription:'/mysubscription',myprofile:'/userProfile',myposts:'/myposts',likedposts:'/likedposts'};_this.upvoteHandler=function(e,id,val,upvoted){var headers={'Content-Type':'application/json',Accept:'application/json',Authorization:\"JWT \".concat(localStorage.getItem('token'))};var url=\"\".concat(configData.SERVER_URL,\"api/upvote\");var user=localStorage.getItem('userid');var post=id;var bodyFormData=new FormData();bodyFormData.set('user',user);bodyFormData.set('post',post);// console.log(user); console.log(post);\naxios.post(url,bodyFormData,{headers:headers}).then(function(result){// this.setState({ posts: result.data });\n// console.log(result.data);\n}).catch(function(error){console.log(error);});window.setTimeout(function(){window.location.reload();},200);};return _this;}_createClass(Likedposts,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(!localStorage.getItem('isLoggedIn')){{this.props.history.push('/');}}var headers={'Content-Type':'application/json',Accept:'application/json',Authorization:\"JWT \".concat(localStorage.getItem('token'))};var url=\"\".concat(configData.SERVER_URL,\"api/posts?course=&created_by=\");axios.get(url,{headers:headers}).then(function(result){_this2.setState({posts:result.data});// console.log(result.data);\n}).catch(function(error){console.log(error);});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"a\",{type:\"button\",href:this.state.myprofile},/*#__PURE__*/React.createElement(\"button\",{style:{marginRight:'4px'},className:\"btn hover\"},\"My Profile\")),/*#__PURE__*/React.createElement(\"a\",{type:\"button\",href:this.state.myposts},/*#__PURE__*/React.createElement(\"button\",{style:{marginRight:'4px'},className:\"btn hover \"},\"My Posts\")),/*#__PURE__*/React.createElement(\"a\",{type:\"button\",href:this.state.likedposts},/*#__PURE__*/React.createElement(\"button\",{style:{marginRight:'4px',color:'black'},className:\"btn  hover activeness \"},\"Liked Posts\"),' '),/*#__PURE__*/React.createElement(\"a\",{type:\"button\",href:this.state.subscription},/*#__PURE__*/React.createElement(\"button\",{style:{marginRight:'4px'},className:\"btn hover \"},\"My Subscription\"),' '))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",null,this.state.posts.length==0?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"No Posts Liked Yet\")):this.state.posts.map(function(val){return/*#__PURE__*/React.createElement(\"div\",{className:\" container\"},val.is_already_upvoted?/*#__PURE__*/React.createElement(\"div\",{className:\"likedposts\"},/*#__PURE__*/React.createElement(Avatar,{style:{float:'left',marginRight:'10px'},round:true,name:val.created_by.full_name,size:\"40px\"}),/*#__PURE__*/React.createElement(\"span\",{style:{fontSize:'25px',color:'black'}},val.created_by.full_name,\" - \",val.created_by.email),/*#__PURE__*/React.createElement(\"h6\",{style:{textAlign:'left',color:'rgba(72, 70, 75, 0.979)'}},' ',moment(val.created_at).format('dddd, MMMM Do YYYY, h:mm:ss a'),' '),/*#__PURE__*/React.createElement(\"h6\",null,val.description),/*#__PURE__*/React.createElement(\"a\",{target:\"_blank\",href:val.link},' ',/*#__PURE__*/React.createElement(LinkPreview,{url:val.link,width:\"100%\",height:\"300px\"})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"button\",{className:val.is_already_upvoted?'btn btn-success':' btn btn-secondary',onClick:function onClick(e){return _this3.upvoteHandler(e,val.id,val.upvote_count,val.is_already_upvoted);}},' ',/*#__PURE__*/React.createElement(\"i\",{class:\"fas fa-arrow-up\"})),/*#__PURE__*/React.createElement(\"span\",null),\" Upvote Count- \",val.upvote_count)):/*#__PURE__*/React.createElement(\"div\",null));})));}}]);return Likedposts;}(Component);export default Likedposts;","map":{"version":3,"sources":["/home/parth/Documents/Github/resourcified-frontend/src/pages/likedposts.js"],"names":["React","Component","axios","Link","Redirect","moment","Avatar","LinkPreview","configData","Likedposts","state","posts","subscription","myprofile","myposts","likedposts","upvoteHandler","e","id","val","upvoted","headers","Accept","Authorization","localStorage","getItem","url","SERVER_URL","user","post","bodyFormData","FormData","set","then","result","catch","error","console","log","window","setTimeout","location","reload","props","history","push","get","setState","data","marginRight","color","length","map","is_already_upvoted","float","created_by","full_name","fontSize","email","textAlign","created_at","format","description","link","upvote_count"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport { Link, Redirect } from 'react-router-dom'\nimport moment from 'moment'\nimport Avatar from 'react-avatar'\nimport { LinkPreview } from '@dhaiwat10/react-link-preview'\nimport configData from './config.json'\n\nexport class Likedposts extends Component {\n  state = {\n    posts: [],\n\n    subscription: '/mysubscription',\n    myprofile: '/userProfile',\n    myposts: '/myposts',\n    likedposts: '/likedposts'\n  }\n  componentDidMount () {\n    if (!localStorage.getItem('isLoggedIn')) {\n      {\n        this.props.history.push('/')\n      }\n    }\n    const headers = {\n      'Content-Type': 'application/json',\n      Accept: 'application/json',\n      Authorization: `JWT ${localStorage.getItem('token')}`\n    }\n    const url = `${configData.SERVER_URL}api/posts?course=&created_by=`\n    axios\n      .get(url, { headers })\n      .then(result => {\n        this.setState({ posts: result.data })\n\n        // console.log(result.data);\n      })\n      .catch(error => {\n        console.log(error)\n      })\n  }\n\n  upvoteHandler = (e, id, val, upvoted) => {\n    const headers = {\n      'Content-Type': 'application/json',\n      Accept: 'application/json',\n      Authorization: `JWT ${localStorage.getItem('token')}`\n    }\n    const url = `${configData.SERVER_URL}api/upvote`\n    const user = localStorage.getItem('userid')\n    const post = id\n    let bodyFormData = new FormData()\n    bodyFormData.set('user', user)\n    bodyFormData.set('post', post)\n\n    // console.log(user); console.log(post);\n    axios\n      .post(url, bodyFormData, { headers })\n      .then(result => {\n        // this.setState({ posts: result.data });\n        // console.log(result.data);\n      })\n      .catch(error => {\n        console.log(error)\n      })\n\n    window.setTimeout(function () {\n      window.location.reload()\n    }, 200)\n  }\n\n  render () {\n    return (\n      <div>\n        <div className='container'>\n          <div>\n            <a type='button' href={this.state.myprofile}>\n              <button style={{ marginRight: '4px' }} className='btn hover'>\n                My Profile\n              </button>\n            </a>\n            <a type='button' href={this.state.myposts}>\n              <button style={{ marginRight: '4px' }} className='btn hover '>\n                My Posts\n              </button>\n            </a>\n            <a type='button' href={this.state.likedposts}>\n              <button\n                style={{ marginRight: '4px', color: 'black' }}\n                className='btn  hover activeness '\n              >\n                Liked Posts\n              </button>{' '}\n            </a>\n            <a type='button' href={this.state.subscription}>\n              <button style={{ marginRight: '4px' }} className='btn hover '>\n                My Subscription\n              </button>{' '}\n            </a>\n          </div>\n        </div>\n        <br></br>\n\n        <div>\n          {this.state.posts.length == 0 ? (\n            <div>\n              <h2>No Posts Liked Yet</h2>\n            </div>\n          ) : (\n            this.state.posts.map(val => {\n              return (\n                <div className=' container'>\n                  {val.is_already_upvoted ? (\n                    <div className='likedposts'>\n                      <Avatar\n                        style={{ float: 'left', marginRight: '10px' }}\n                        round\n                        name={val.created_by.full_name}\n                        size='40px'\n                      />\n\n                      <span style={{ fontSize: '25px', color: 'black' }}>\n                        {val.created_by.full_name} - {val.created_by.email}\n                      </span>\n                      <h6\n                        style={{\n                          textAlign: 'left',\n                          color: 'rgba(72, 70, 75, 0.979)'\n                        }}\n                      >\n                        {' '}\n                        {moment(val.created_at).format(\n                          'dddd, MMMM Do YYYY, h:mm:ss a'\n                        )}{' '}\n                      </h6>\n\n                      <h6>{val.description}</h6>\n                      <a target='_blank' href={val.link}>\n                        {' '}\n                        <LinkPreview\n                          url={val.link}\n                          width='100%'\n                          height='300px'\n                        />\n                      </a>\n\n                      <br></br>\n                      <span>\n                        <button\n                          className={\n                            val.is_already_upvoted\n                              ? 'btn btn-success'\n                              : ' btn btn-secondary'\n                          }\n                          onClick={e =>\n                            this.upvoteHandler(\n                              e,\n                              val.id,\n                              val.upvote_count,\n                              val.is_already_upvoted\n                            )\n                          }\n                        >\n                          {' '}\n                          <i class='fas fa-arrow-up'></i>\n                        </button>\n                        <span></span> Upvote Count- {val.upvote_count}\n                      </span>\n                    </div>\n                  ) : (\n                    <div></div>\n                  )}\n                </div>\n              )\n            })\n          )}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Likedposts\n"]},"metadata":{},"sourceType":"module"}