{"ast":null,"code":"var _jsxFileName = \"/home/parth/Documents/Github/resourcified-frontend/src/pages/userProfile.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Link, Redirect } from 'react-router-dom';\nimport moment from 'moment';\nimport Avatar from 'react-avatar';\nexport class userProfile extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      profile: [],\n      isEditing: false,\n      full_name: '',\n      phone: '',\n      gender: '',\n      degree: '',\n      branch: '',\n      institute: '',\n      subscription: '/mysubscription',\n      myprofile: '/userProfile',\n      myposts: '/myposts',\n      likedposts: '/likedposts',\n      disabled: false\n    };\n\n    this.handleDegree = event => {\n      this.setState({\n        degree: event.target.value\n      });\n    };\n\n    this.handleFullname = event => {\n      this.setState({\n        full_name: event.target.value\n      });\n    };\n\n    this.handlePhone = event => {\n      this.setState({\n        phone: event.target.value\n      });\n    };\n\n    this.handleGender = event => {\n      this.setState({\n        gender: event.target.value\n      });\n    };\n\n    this.editHandler = event => {\n      this.setState({\n        isEditing: true\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      this.setState({\n        disabled: true\n      });\n      console.log(this.state.phone);\n      console.log(this.state.full_name);\n      console.log(this.state.gender);\n      console.log(this.state.degree);\n      const degree = this.state.degree;\n      const gender = this.state.gender;\n      const full_name = this.state.full_name;\n      const phone = this.state.phone;\n      let bodyFormData = new FormData();\n      bodyFormData.set('gender', gender);\n      bodyFormData.set('degree', degree);\n      bodyFormData.set('full_name', full_name);\n      bodyFormData.set('phone', phone);\n      const headers = {\n        'Content-Type': 'application/json',\n        Accept: 'application/json',\n        Authorization: `JWT ${localStorage.getItem('token')}`\n      };\n      const url = 'http://localhost:8000/api/current-user-profile';\n      axios.put(url, bodyFormData, {\n        headers\n      }).then(result => {\n        // this.setState({ profile: result.data });\n        console.log(result.data);\n      }).catch(error => {\n        console.log(error);\n      }); // this.setState({isEditing:false});\n\n      window.setTimeout(function () {\n        window.location.reload();\n      }, 700);\n    };\n  }\n\n  componentDidMount() {\n    if (!localStorage.getItem('isLoggedIn')) {\n      {\n        this.props.history.push('/');\n      }\n    }\n\n    const headers = {\n      'Content-Type': 'application/json',\n      Accept: 'application/json',\n      Authorization: `JWT ${localStorage.getItem('token')}`\n    };\n    const url = 'http://localhost:8000/api/current-user-profile';\n    axios.get(url, {\n      headers\n    }).then(result => {\n      this.setState({\n        profile: result.data\n      });\n      this.setState({\n        full_name: result.data.full_name\n      });\n      this.setState({\n        phone: result.data.phone\n      });\n      this.setState({\n        degree: result.data.degree\n      });\n      this.setState({\n        gender: result.data.gender\n      });\n      this.setState({\n        branch: result.data.branch.name\n      });\n      this.setState({\n        institute: result.data.institute.name\n      });\n      localStorage.setItem('full_name', this.state.full_name);\n      console.log(result.data);\n      console.log(result.data.branch.name);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      type: \"button\",\n      href: this.state.myprofile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        marginRight: '4px',\n        color: 'white',\n        backgroundColor: 'green'\n      },\n      className: \"btn btn-outline-success \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }, \"My Profile\")), /*#__PURE__*/React.createElement(\"a\", {\n      type: \"button\",\n      href: this.state.myposts,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        marginRight: '4px'\n      },\n      className: \"btn btn-outline-success \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }\n    }, \"My Posts\")), /*#__PURE__*/React.createElement(\"a\", {\n      type: \"button\",\n      href: this.state.likedposts,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        marginRight: '4px'\n      },\n      className: \"btn btn-outline-success \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }\n    }, \"Liked Posts\"), ' '), /*#__PURE__*/React.createElement(\"a\", {\n      type: \"button\",\n      href: this.state.subscription,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        marginRight: '4px'\n      },\n      className: \"btn btn-outline-success \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 13\n      }\n    }, \"My Subscription\"), ' ')), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }\n    }), !this.state.isEditing ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \" container \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-outline-success \",\n      onClick: this.editHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 15\n      }\n    }, \"Edit Details\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile_placement\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"avatar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }\n    }, ' ', /*#__PURE__*/React.createElement(Avatar, {\n      round: true,\n      name: this.state.profile.full_name,\n      size: \"100%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 21\n      }\n    }, \" Full Name:- \", this.state.profile.full_name, \" \"), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 21\n      }\n    }, \"Email:- \", this.state.profile.email, \" \"), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 21\n      }\n    }, \"Gender:- \", this.state.profile.gender, \" \"), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 21\n      }\n    }, \"Institute:- \", this.state.institute), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 21\n      }\n    }, \"Branch:- \", this.state.branch), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 21\n      }\n    }, \"Degree:- \", this.state.profile.degree, \" \"), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 21\n      }\n    }, \"Contact Number:- \", this.state.profile.phone, \" \")))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 15\n      }\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"full_name\",\n      style: {\n        color: 'blue'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 21\n      }\n    }, \"Full Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: 'form-control ',\n      id: \"full_name\",\n      placeholder: \"Full Name\",\n      type: \"text\",\n      name: \"full_name\",\n      onChange: this.handleFullname,\n      autoFocus: true,\n      required: true,\n      value: this.state.full_name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"phone\",\n      style: {\n        color: 'blue'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 21\n      }\n    }, \"Contact Number\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: 'form-control ',\n      id: \"phone\",\n      placeholder: \"Phone\",\n      type: \"text\",\n      name: \"phone\",\n      onChange: this.handlePhone,\n      autoFocus: true,\n      required: true,\n      value: this.state.phone,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"gender\",\n      style: {\n        color: 'blue'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 21\n      }\n    }, \"Gender\"), /*#__PURE__*/React.createElement(\"select\", {\n      reequired: true,\n      class: \"custom-select\",\n      id: \"gender\",\n      name: \"gender\",\n      onChange: this.handleGender,\n      value: this.state.gender,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 23\n      }\n    }, \"Choose...\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 'male',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 23\n      }\n    }, \"Male\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 'female',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 23\n      }\n    }, \"Female\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 'other',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 23\n      }\n    }, \"Other\"))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"degree\",\n      style: {\n        color: 'blue'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 21\n      }\n    }, \"Degree\"), /*#__PURE__*/React.createElement(\"select\", {\n      reequired: true,\n      class: \"custom-select\",\n      id: \"degree\",\n      name: \"degree\",\n      onChange: this.handleDegree,\n      value: this.state.degree,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      selected: true,\n      value: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 23\n      }\n    }, \"Choose...\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 'btech',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 23\n      }\n    }, \"BTech\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 'mtech',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 23\n      }\n    }, \"MTech\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 'phd',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 23\n      }\n    }, \"Phd\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 'msc',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 23\n      }\n    }, \"Msc\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: 'mba',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 23\n      }\n    }, \"MBA\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      style: {\n        color: 'blue'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: this.state.disabled ? 'btn btn-secondary  btn-block disabled' : 'btn btn-primary btn-block active',\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 19\n      }\n    }, \"Change Details \\xA0\\xA0\\xA0\"))))));\n  }\n\n}\nexport default userProfile;","map":{"version":3,"sources":["/home/parth/Documents/Github/resourcified-frontend/src/pages/userProfile.js"],"names":["React","Component","axios","Link","Redirect","moment","Avatar","userProfile","state","profile","isEditing","full_name","phone","gender","degree","branch","institute","subscription","myprofile","myposts","likedposts","disabled","handleDegree","event","setState","target","value","handleFullname","handlePhone","handleGender","editHandler","handleSubmit","preventDefault","console","log","bodyFormData","FormData","set","headers","Accept","Authorization","localStorage","getItem","url","put","then","result","data","catch","error","window","setTimeout","location","reload","componentDidMount","props","history","push","get","name","setItem","render","marginRight","color","backgroundColor","email"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport { Link, Redirect } from 'react-router-dom'\nimport moment from 'moment'\nimport Avatar from 'react-avatar'\n\nexport class userProfile extends Component {\n  state = {\n    profile: [],\n    isEditing: false,\n    full_name: '',\n    phone: '',\n    gender: '',\n    degree: '',\n    branch: '',\n    institute: '',\n    subscription: '/mysubscription',\n    myprofile: '/userProfile',\n    myposts: '/myposts',\n    likedposts: '/likedposts',\n    disabled: false\n  }\n\n  handleDegree = event => {\n    this.setState({ degree: event.target.value })\n  }\n  handleFullname = event => {\n    this.setState({ full_name: event.target.value })\n  }\n  handlePhone = event => {\n    this.setState({ phone: event.target.value })\n  }\n  handleGender = event => {\n    this.setState({ gender: event.target.value })\n  }\n  editHandler = event => {\n    this.setState({ isEditing: true })\n  }\n  componentDidMount () {\n    if (!localStorage.getItem('isLoggedIn')) {\n      {\n        this.props.history.push('/')\n      }\n    }\n    const headers = {\n      'Content-Type': 'application/json',\n      Accept: 'application/json',\n      Authorization: `JWT ${localStorage.getItem('token')}`\n    }\n\n    const url = 'http://localhost:8000/api/current-user-profile'\n    axios\n      .get(url, { headers })\n      .then(result => {\n        this.setState({ profile: result.data })\n        this.setState({ full_name: result.data.full_name })\n        this.setState({ phone: result.data.phone })\n        this.setState({ degree: result.data.degree })\n        this.setState({ gender: result.data.gender })\n        this.setState({ branch: result.data.branch.name })\n        this.setState({ institute: result.data.institute.name })\n        localStorage.setItem('full_name', this.state.full_name)\n        console.log(result.data)\n        console.log(result.data.branch.name)\n      })\n      .catch(error => {\n        console.log(error)\n      })\n  }\n\n  handleSubmit = event => {\n    event.preventDefault()\n    this.setState({ disabled: true })\n    console.log(this.state.phone)\n    console.log(this.state.full_name)\n    console.log(this.state.gender)\n    console.log(this.state.degree)\n\n    const degree = this.state.degree\n    const gender = this.state.gender\n    const full_name = this.state.full_name\n    const phone = this.state.phone\n\n    let bodyFormData = new FormData()\n    bodyFormData.set('gender', gender)\n    bodyFormData.set('degree', degree)\n    bodyFormData.set('full_name', full_name)\n    bodyFormData.set('phone', phone)\n\n    const headers = {\n      'Content-Type': 'application/json',\n      Accept: 'application/json',\n      Authorization: `JWT ${localStorage.getItem('token')}`\n    }\n    const url = 'http://localhost:8000/api/current-user-profile'\n    axios\n      .put(url, bodyFormData, { headers })\n      .then(result => {\n        // this.setState({ profile: result.data });\n\n        console.log(result.data)\n      })\n      .catch(error => {\n        console.log(error)\n      })\n    // this.setState({isEditing:false});\n    window.setTimeout(function () {\n      window.location.reload()\n    }, 700)\n  }\n  render () {\n    return (\n      <div>\n        <div>\n          <a type='button' href={this.state.myprofile}>\n            <button\n              style={{\n                marginRight: '4px',\n                color: 'white',\n                backgroundColor: 'green'\n              }}\n              className='btn btn-outline-success '\n            >\n              My Profile\n            </button>\n          </a>\n          <a type='button' href={this.state.myposts}>\n            <button\n              style={{ marginRight: '4px' }}\n              className='btn btn-outline-success '\n            >\n              My Posts\n            </button>\n          </a>\n          <a type='button' href={this.state.likedposts}>\n            <button\n              style={{ marginRight: '4px' }}\n              className='btn btn-outline-success '\n            >\n              Liked Posts\n            </button>{' '}\n          </a>\n          <a type='button' href={this.state.subscription}>\n            <button\n              style={{ marginRight: '4px' }}\n              className='btn btn-outline-success '\n            >\n              My Subscription\n            </button>{' '}\n          </a>\n        </div>\n        <div className='container'>\n          <br></br>\n\n          {!this.state.isEditing ? (\n            <div className=' container '>\n              <button\n                className='btn btn-outline-success '\n                onClick={this.editHandler}\n              >\n                Edit Details\n              </button>\n              <div className='profile_placement'>\n                <div className='avatar'>\n                  {' '}\n                  <Avatar round name={this.state.profile.full_name} size='100%' />\n                </div>\n                <div className='profile'>\n                  <ul>\n                    <h4> Full Name:- {this.state.profile.full_name} </h4>\n                    <h4>Email:- {this.state.profile.email} </h4>\n                    <h4>Gender:- {this.state.profile.gender} </h4>\n                    <h4>Institute:- {this.state.institute}</h4>\n                    <h4>Branch:- {this.state.branch}</h4>\n                    <h4>Degree:- {this.state.profile.degree} </h4>\n                    <h4>Contact Number:- {this.state.profile.phone} </h4>\n                  </ul>\n                </div>\n              </div>\n              <br></br>\n            </div>\n          ) : (\n            <div>\n              <form onSubmit={this.handleSubmit}>\n                <div className='form-group'>\n                  <div className='form-group'>\n                    <label htmlFor='full_name' style={{ color: 'blue' }}>\n                      Full Name\n                    </label>\n                    <input\n                      className={'form-control '}\n                      id='full_name'\n                      placeholder='Full Name'\n                      type='text'\n                      name='full_name'\n                      onChange={this.handleFullname}\n                      autoFocus\n                      required\n                      value={this.state.full_name}\n                    />\n                  </div>\n\n                  <div className='form-group'>\n                    <label for='phone' style={{ color: 'blue' }}>\n                      Contact Number\n                    </label>\n                    <input\n                      className={'form-control '}\n                      id='phone'\n                      placeholder='Phone'\n                      type='text'\n                      name='phone'\n                      onChange={this.handlePhone}\n                      autoFocus\n                      required\n                      value={this.state.phone}\n                    />\n                  </div>\n                  <div class='form-group'>\n                    <label for='gender' style={{ color: 'blue' }}>\n                      Gender\n                    </label>\n                    <select\n                      reequired\n                      class='custom-select'\n                      id='gender'\n                      name='gender'\n                      onChange={this.handleGender}\n                      value={this.state.gender}\n                    >\n                      <option selected>Choose...</option>\n                      <option value={'male'}>Male</option>\n                      <option value={'female'}>Female</option>\n                      <option value={'other'}>Other</option>\n                    </select>\n                  </div>\n\n                  <div class='form-group'>\n                    <label for='degree' style={{ color: 'blue' }}>\n                      Degree\n                    </label>\n                    <select\n                      reequired\n                      class='custom-select'\n                      id='degree'\n                      name='degree'\n                      onChange={this.handleDegree}\n                      value={this.state.degree}\n                    >\n                      <option selected value={0}>\n                        Choose...\n                      </option>\n                      <option value={'btech'}>BTech</option>\n                      <option value={'mtech'}>MTech</option>\n                      <option value={'phd'}>Phd</option>\n                      <option value={'msc'}>Msc</option>\n                      <option value={'mba'}>MBA</option>\n                    </select>\n                  </div>\n                </div>\n\n                <div className='form-group' style={{ color: 'blue' }}>\n                  <button\n                    className={\n                      this.state.disabled\n                        ? 'btn btn-secondary  btn-block disabled'\n                        : 'btn btn-primary btn-block active'\n                    }\n                    type='submit'\n                  >\n                    Change Details &nbsp;&nbsp;&nbsp;\n                  </button>\n                </div>\n              </form>\n            </div>\n          )}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default userProfile\n"]},"metadata":{},"sourceType":"module"}