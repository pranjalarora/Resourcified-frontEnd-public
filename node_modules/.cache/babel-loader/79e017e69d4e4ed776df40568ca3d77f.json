{"ast":null,"code":"import _classCallCheck from\"/home/parth/Documents/Github/resourcified-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/parth/Documents/Github/resourcified-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/parth/Documents/Github/resourcified-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/parth/Documents/Github/resourcified-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import{Link,Redirect}from\"react-router-dom\";import moment from'moment';import Avatar from'react-avatar';import{LinkPreview}from'@dhaiwat10/react-link-preview';import configData from\"./config.json\";export var Likedposts=/*#__PURE__*/function(_Component){_inherits(Likedposts,_Component);var _super=_createSuper(Likedposts);function Likedposts(){var _this;_classCallCheck(this,Likedposts);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={posts:[],subscription:\"/mysubscription\",myprofile:\"/userProfile\",myposts:\"/myposts\",likedposts:\"/likedposts\"};_this.upvoteHandler=function(e,id,val,upvoted){var headers={\"Content-Type\":\"application/json\",Accept:\"application/json\",Authorization:\"JWT \".concat(localStorage.getItem(\"token\"))};var url=\"\".concat(configData.SERVER_URL,\"api/upvote\");var user=localStorage.getItem(\"userid\");var post=id;var bodyFormData=new FormData();bodyFormData.set(\"user\",user);bodyFormData.set(\"post\",post);console.log(user);console.log(post);axios.post(url,bodyFormData,{headers:headers}).then(function(result){// this.setState({ posts: result.data });\nconsole.log(result.data);}).catch(function(error){console.log(error);});window.setTimeout(function(){window.location.reload();},200);};return _this;}_createClass(Likedposts,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(!localStorage.getItem(\"isLoggedIn\")){{this.props.history.push(\"/\");}}var headers={\"Content-Type\":\"application/json\",Accept:\"application/json\",Authorization:\"JWT \".concat(localStorage.getItem(\"token\"))};var url=\"\".concat(configData.SERVER_URL,\"api/posts?course=&created_by=\");axios.get(url,{headers:headers}).then(function(result){_this2.setState({posts:result.data});console.log(result.data);}).catch(function(error){console.log(error);});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"a\",{type:\"button\",href:this.state.myprofile},/*#__PURE__*/React.createElement(\"button\",{style:{marginRight:'4px'},className:\"btn hover\"},\"My Profile\")),/*#__PURE__*/React.createElement(\"a\",{type:\"button\",href:this.state.myposts},/*#__PURE__*/React.createElement(\"button\",{style:{marginRight:'4px'},className:\"btn hover \"},\"My Posts\")),/*#__PURE__*/React.createElement(\"a\",{type:\"button\",href:this.state.likedposts},/*#__PURE__*/React.createElement(\"button\",{style:{marginRight:'4px',color:'black'},className:\"btn  hover activeness \"},\"Liked Posts\"),\" \"),/*#__PURE__*/React.createElement(\"a\",{type:\"button\",href:this.state.subscription},/*#__PURE__*/React.createElement(\"button\",{style:{marginRight:'4px'},className:\"btn hover \"},\"My Subscription\"),\" \"))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",null,this.state.posts.length==0?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"No Posts Liked Yet\")):this.state.posts.map(function(val){return/*#__PURE__*/React.createElement(\"div\",{className:\" container\"},val.is_already_upvoted?/*#__PURE__*/React.createElement(\"div\",{className:\"likedposts\"},/*#__PURE__*/React.createElement(Avatar,{style:{float:'left',marginRight:'10px'},round:true,name:val.created_by.full_name,size:\"40px\"}),/*#__PURE__*/React.createElement(\"span\",{style:{fontSize:'25px',color:'black'}},val.created_by.full_name,\" - \",val.created_by.email),/*#__PURE__*/React.createElement(\"h6\",{style:{textAlign:'left',color:'rgba(72, 70, 75, 0.979)'}},\" \",moment(val.created_at).format(\"dddd, MMMM Do YYYY, h:mm:ss a\"),\" \"),/*#__PURE__*/React.createElement(\"h6\",null,val.description),/*#__PURE__*/React.createElement(\"a\",{target:\"_blank\",href:val.link},\"  \",/*#__PURE__*/React.createElement(LinkPreview,{url:val.link,width:\"100%\",height:\"300px\"})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"button\",{className:val.is_already_upvoted?\"btn btn-success\":\" btn btn-secondary\",onClick:function onClick(e){return _this3.upvoteHandler(e,val.id,val.upvote_count,val.is_already_upvoted);}},\"  \",/*#__PURE__*/React.createElement(\"i\",{class:\"fas fa-arrow-up\"})),/*#__PURE__*/React.createElement(\"span\",null),\" Upvote Count- \",val.upvote_count)):/*#__PURE__*/React.createElement(\"div\",null));})));}}]);return Likedposts;}(Component);export default Likedposts;","map":{"version":3,"sources":["/home/parth/Documents/Github/resourcified-frontend/src/pages/likedposts.js"],"names":["React","Component","axios","Link","Redirect","moment","Avatar","LinkPreview","configData","Likedposts","state","posts","subscription","myprofile","myposts","likedposts","upvoteHandler","e","id","val","upvoted","headers","Accept","Authorization","localStorage","getItem","url","SERVER_URL","user","post","bodyFormData","FormData","set","console","log","then","result","data","catch","error","window","setTimeout","location","reload","props","history","push","get","setState","marginRight","color","length","map","is_already_upvoted","float","created_by","full_name","fontSize","email","textAlign","created_at","format","description","link","upvote_count"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport moment from 'moment';\nimport Avatar from 'react-avatar';\nimport { LinkPreview } from '@dhaiwat10/react-link-preview';\nimport configData from \"./config.json\";\n\nexport class Likedposts extends Component {\n\n    state = {\n        posts: [],\n        \n        subscription:\"/mysubscription\",\n        myprofile: \"/userProfile\",\n        myposts:\"/myposts\",\n        likedposts: \"/likedposts\"\n    }\n    componentDidMount() {\n      if(!localStorage.getItem(\"isLoggedIn\")){\n        {\n          this.props.history.push(\"/\");  \n        }\n    }\n        const headers = {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n          Authorization: `JWT ${localStorage.getItem(\"token\")}`\n    \n        };\n        const url =`${configData.SERVER_URL}api/posts?course=&created_by=`;\n        axios\n          .get(url, { headers })\n          .then((result) => {\n    \n    \n            this.setState({ posts: result.data });\n    \n    \n            console.log(result.data);\n          })\n          .catch((error) => {\n            console.log(error);\n    \n          });\n      }\n\n\n  upvoteHandler = (e, id, val,upvoted) => {\n\n    \n\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\",\n      Authorization: `JWT ${localStorage.getItem(\"token\")}`\n\n    };\n    const url = `${configData.SERVER_URL}api/upvote`;\n    const user = localStorage.getItem(\"userid\");\n    const post = id;\n    let bodyFormData = new FormData();\n    bodyFormData.set(\"user\", user);\n    bodyFormData.set(\"post\", post);\n\n    console.log(user); console.log(post);\n    axios\n      .post(url, bodyFormData, { headers })\n      .then((result) => {\n\n\n        // this.setState({ posts: result.data });\n\n\n        console.log(result.data);\n      })\n      .catch((error) => {\n        console.log(error);\n\n      });\n    \n      \n\n      window.setTimeout(function(){window.location.reload()},200)\n\n  }\n\n    render() {\n        return (\n            <div>\n                <div className=\"container\">\n                <div>\n\n<a type=\"button\" href={this.state.myprofile}><button style={{ marginRight: '4px' }} className=\"btn hover\">My Profile</button></a>\n<a type=\"button\" href={this.state.myposts}><button style={{ marginRight: '4px' }} className=\"btn hover \">My Posts</button></a>\n<a type=\"button\" href={this.state.likedposts}><button style={{ marginRight: '4px', color: 'black'}} className=\"btn  hover activeness \">Liked Posts</button> </a>\n<a type=\"button\" href={this.state.subscription}><button style={{ marginRight: '4px' }} className=\"btn hover \">My Subscription</button> </a>\n</div>\n            </div>\n            <br></br>\n\n            <div>\n            {this.state.posts.length == 0 ? <div><h2>No Posts Liked Yet</h2></div> : this.state.posts.map((val) => {\n\nreturn (\n    \n  <div className=\" container\"  >\n      {val.is_already_upvoted?\n    <div className=\"likedposts\">\n       <Avatar style={{float:'left',marginRight: '10px'}} round name={val.created_by.full_name} size='40px' />\n  \n       <span style={{ fontSize:'25px', color: 'black' }}>\n                      {val.created_by.full_name} - {val.created_by.email}\n                    </span>\n      <h6 style={{ textAlign: 'left',color: 'rgba(72, 70, 75, 0.979)' }}> {moment(val.created_at).format(\"dddd, MMMM Do YYYY, h:mm:ss a\")} </h6>\n\n      \n      <h6>{val.description}</h6>\n      <a target=\"_blank\" href={val.link}>  <LinkPreview url={val.link} width='100%' height='300px' /></a>\n      \n\n<br></br>\n      <span><button className={val.is_already_upvoted ? \"btn btn-success\" : \" btn btn-secondary\"} onClick={(e) => this.upvoteHandler(e, val.id, val.upvote_count,val.is_already_upvoted)}>  <i class=\"fas fa-arrow-up\"></i></button>\n       <span></span> Upvote Count- {val.upvote_count}\n      </span>\n\n      </div>:<div></div>\n            }\n\n    </div>\n    \n\n);\n})}\n            </div>\n            </div>\n        )\n    }\n}\n\nexport default Likedposts\n"]},"metadata":{},"sourceType":"module"}