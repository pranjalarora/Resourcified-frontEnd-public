{"ast":null,"code":"var _jsxFileName = \"/home/parth/Documents/Github/resourcified-frontend/src/pages/likedposts.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport moment from 'moment';\nexport class Likedposts extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      posts: [],\n      subscription: \"/mysubscription\",\n      myprofile: \"/userProfile\",\n      myposts: \"/myposts\",\n      likedposts: \"/likedposts\"\n    };\n\n    this.upvoteHandler = (e, id, val, upvoted) => {\n      const headers = {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `JWT ${localStorage.getItem(\"token\")}`\n      };\n      const url = \"http://localhost:8000/api/upvote\";\n      const user = localStorage.getItem(\"userid\");\n      const post = id;\n      let bodyFormData = new FormData();\n      bodyFormData.set(\"user\", user);\n      bodyFormData.set(\"post\", post);\n      console.log(user);\n      console.log(post);\n      axios.post(url, bodyFormData, {\n        headers\n      }).then(result => {\n        // this.setState({ posts: result.data });\n        console.log(result.data);\n      }).catch(error => {\n        console.log(error);\n      });\n      window.setTimeout(function () {\n        window.location.reload();\n      }, 200);\n    };\n  }\n\n  componentDidMount() {\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\",\n      Authorization: `JWT ${localStorage.getItem(\"token\")}`\n    };\n    const url = \"http://localhost:8000/api/posts?course=&created_by=\";\n    axios.get(url, {\n      headers\n    }).then(result => {\n      this.setState({\n        posts: result.data\n      });\n      console.log(result.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      type: \"button\",\n      href: this.state.myprofile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        marginRight: '4px'\n      },\n      className: \"btn btn-outline-success \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 46\n      }\n    }, \"My Profile\")), /*#__PURE__*/React.createElement(\"a\", {\n      type: \"button\",\n      href: this.state.myposts,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        marginRight: '4px'\n      },\n      className: \"btn btn-outline-success \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 44\n      }\n    }, \"My Posts\")), /*#__PURE__*/React.createElement(\"a\", {\n      type: \"button\",\n      href: this.state.likedposts,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        marginRight: '4px',\n        color: 'white',\n        backgroundColor: \"green\"\n      },\n      className: \"btn btn-outline-success \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 47\n      }\n    }, \"Liked Posts\"), \" \"), /*#__PURE__*/React.createElement(\"a\", {\n      type: \"button\",\n      href: this.state.subscription,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        marginRight: '4px'\n      },\n      className: \"btn btn-outline-success \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 49\n      }\n    }, \"My Subscription\"), \" \"))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }, this.state.posts.length == 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 50\n      }\n    }, \"No Posts Liked Ywt\")) : this.state.posts.map(val => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \" container \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 3\n        }\n      }, val.is_already_upvoted ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"likedposts\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 7\n        }\n      }, \"Posted By:- \", val.created_by.full_name, \" - \", val.created_by.email), /*#__PURE__*/React.createElement(\"h6\", {\n        style: {\n          textAlign: 'left'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 7\n        }\n      }, \" Posted on : \", moment(val.created_at).format(\"dddd, MMMM Do YYYY, h:mm:ss a\"), \" \"), /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 7\n        }\n      }, val.description), /*#__PURE__*/React.createElement(\"a\", {\n        target: \"_blank\",\n        href: val.link,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 42\n        }\n      }, \" \", val.link)), /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: val.is_already_upvoted ? \"btn btn-success\" : \" btn btn-secondary\",\n        onClick: e => this.upvoteHandler(e, val.id, val.upvote_count, val.is_already_upvoted),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }\n      }, \"Upvote\"), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 8\n        }\n      }), \" Upvote Count- \", val.upvote_count)) : /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 14\n        }\n      }));\n    })));\n  }\n\n}\nexport default Likedposts;","map":{"version":3,"sources":["/home/parth/Documents/Github/resourcified-frontend/src/pages/likedposts.js"],"names":["React","Component","axios","Link","Redirect","moment","Likedposts","state","posts","subscription","myprofile","myposts","likedposts","upvoteHandler","e","id","val","upvoted","headers","Accept","Authorization","localStorage","getItem","url","user","post","bodyFormData","FormData","set","console","log","then","result","data","catch","error","window","setTimeout","location","reload","componentDidMount","get","setState","render","marginRight","color","backgroundColor","length","map","is_already_upvoted","created_by","full_name","email","textAlign","created_at","format","description","link","upvote_count"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport moment from 'moment';\n\n\nexport class Likedposts extends Component {\n\n    state = {\n        posts: [],\n        \n        subscription:\"/mysubscription\",\n        myprofile: \"/userProfile\",\n        myposts:\"/myposts\",\n        likedposts: \"/likedposts\"\n    }\n    componentDidMount() {\n        const headers = {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n          Authorization: `JWT ${localStorage.getItem(\"token\")}`\n    \n        };\n        const url = \"http://localhost:8000/api/posts?course=&created_by=\";\n        axios\n          .get(url, { headers })\n          .then((result) => {\n    \n    \n            this.setState({ posts: result.data });\n    \n    \n            console.log(result.data);\n          })\n          .catch((error) => {\n            console.log(error);\n    \n          });\n      }\n\n\n  upvoteHandler = (e, id, val,upvoted) => {\n\n    \n\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\",\n      Authorization: `JWT ${localStorage.getItem(\"token\")}`\n\n    };\n    const url = \"http://localhost:8000/api/upvote\";\n    const user = localStorage.getItem(\"userid\");\n    const post = id;\n    let bodyFormData = new FormData();\n    bodyFormData.set(\"user\", user);\n    bodyFormData.set(\"post\", post);\n\n    console.log(user); console.log(post);\n    axios\n      .post(url, bodyFormData, { headers })\n      .then((result) => {\n\n\n        // this.setState({ posts: result.data });\n\n\n        console.log(result.data);\n      })\n      .catch((error) => {\n        console.log(error);\n\n      });\n    \n      \n\n      window.setTimeout(function(){window.location.reload()},200)\n\n  }\n\n    render() {\n        return (\n            <div>\n                <div className=\"container\">\n                <div>\n\n<a type=\"button\" href={this.state.myprofile}><button style={{ marginRight: '4px' }} className=\"btn btn-outline-success \">My Profile</button></a>\n<a type=\"button\" href={this.state.myposts}><button style={{ marginRight: '4px' }} className=\"btn btn-outline-success \">My Posts</button></a>\n<a type=\"button\" href={this.state.likedposts}><button style={{ marginRight: '4px', color: 'white', backgroundColor: \"green\" }} className=\"btn btn-outline-success \">Liked Posts</button> </a>\n<a type=\"button\" href={this.state.subscription}><button style={{ marginRight: '4px' }} className=\"btn btn-outline-success \">My Subscription</button> </a>\n</div>\n            </div>\n            <br></br>\n\n            <div>\n            {this.state.posts.length == 0 ? <div><h2>No Posts Liked Ywt</h2></div> : this.state.posts.map((val) => {\n\nreturn (\n    \n  <div className=\" container \">\n      {val.is_already_upvoted?\n    <div className=\"likedposts\">\n      <h4>Posted By:- {val.created_by.full_name} - {val.created_by.email}</h4>\n      <h6 style={{ textAlign: 'left' }}> Posted on : {moment(val.created_at).format(\"dddd, MMMM Do YYYY, h:mm:ss a\")} </h6>\n      <h3>{val.description}</h3>\n\n      <a target=\"_blank\" href={val.link}><h3> {val.link}</h3></a>\n\n\n      <h4><button className={val.is_already_upvoted ? \"btn btn-success\" : \" btn btn-secondary\"} onClick={(e) => this.upvoteHandler(e, val.id, val.upvote_count,val.is_already_upvoted)}>Upvote</button>\n       <span></span> Upvote Count- {val.upvote_count}\n      </h4>\n\n      </div>:<div></div>\n            }\n\n    </div>\n    \n\n);\n})}\n            </div>\n            </div>\n        )\n    }\n}\n\nexport default Likedposts\n"]},"metadata":{},"sourceType":"module"}