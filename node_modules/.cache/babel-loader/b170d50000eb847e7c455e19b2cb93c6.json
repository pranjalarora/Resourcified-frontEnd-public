{"ast":null,"code":"import _classCallCheck from\"/home/parth/Documents/Github/resourcified-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/parth/Documents/Github/resourcified-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/parth/Documents/Github/resourcified-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/parth/Documents/Github/resourcified-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import{Link,Redirect}from\"react-router-dom\";import moment from'moment';export var Myposts=/*#__PURE__*/function(_Component){_inherits(Myposts,_Component);var _super=_createSuper(Myposts);function Myposts(){var _this;_classCallCheck(this,Myposts);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={posts:[],subscription:\"/mysubscription\",myprofile:\"/userProfile\",myposts:\"/myposts\",likedposts:\"/likedposts\",editid:0,editable:false,link:'',description:''};_this.handleCreateDescriptionChange=function(event){_this.setState({description:event.target.value});};_this.handleCreateLinkChange=function(event){_this.setState({link:event.target.value});};_this.handleSubmit=function(event,postid){event.preventDefault();var url='http://localhost:8000/api/posts/'+postid;console.log(url);var headers={'Content-Type':'application/json',Accept:'application/json',Authorization:\"JWT \".concat(localStorage.getItem('token'))};var link=_this.state.link;var description=_this.state.description;var bodyFormData=new FormData();bodyFormData.set('link',link);bodyFormData.set('description',description);axios.put(url,bodyFormData,{headers:headers}).then(function(result){console.log(result.data);}).catch(function(error){console.log(error);});window.setTimeout(function(){window.location.reload();},500);};_this.editingHandler=function(e){_this.setState({editable:false});};_this.deleteHandler=function(e,id){var headers={\"Content-Type\":\"application/json\",Accept:\"application/json\",Authorization:\"JWT \".concat(localStorage.getItem(\"token\"))};var url=\"http://localhost:8000/api/posts/\"+id;axios.delete(url,{headers:headers}).then(function(result){// this.setState({ posts: result.data });\nconsole.log(result.data);}).catch(function(error){console.log(error);});window.setTimeout(function(){window.location.reload();},200);};_this.editHandler=function(e,id,link,description){_this.setState({link:link});_this.setState({description:description});_this.setState({editid:id});_this.setState({editable:true});};return _this;}_createClass(Myposts,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(!localStorage.getItem(\"isLoggedIn\")){{this.props.history.push(\"/\");}}var headers={\"Content-Type\":\"application/json\",Accept:\"application/json\",Authorization:\"JWT \".concat(localStorage.getItem(\"token\"))};var url=\"http://localhost:8000/api/posts?course=&created_by=\"+localStorage.getItem(\"userid\");axios.get(url,{headers:headers}).then(function(result){_this2.setState({posts:result.data});_this2.setState({link:result.data.link});_this2.setState({description:result.data.description});console.log(result.data);}).catch(function(error){console.log(error);});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"a\",{type:\"button\",href:this.state.myprofile},/*#__PURE__*/React.createElement(\"button\",{style:{marginRight:'4px'},className:\"btn btn-outline-success \"},\"My Profile\")),/*#__PURE__*/React.createElement(\"a\",{type:\"button\",href:this.state.myposts},/*#__PURE__*/React.createElement(\"button\",{style:{marginRight:'4px',color:'white',backgroundColor:\"green\"},className:\"btn btn-outline-success \"},\"My Posts\")),/*#__PURE__*/React.createElement(\"a\",{type:\"button\",href:this.state.likedposts},/*#__PURE__*/React.createElement(\"button\",{style:{marginRight:'4px'},className:\"btn btn-outline-success \"},\"Liked Posts\"),\" \"),/*#__PURE__*/React.createElement(\"a\",{type:\"button\",href:this.state.subscription},/*#__PURE__*/React.createElement(\"button\",{style:{marginRight:'4px'},className:\"btn btn-outline-success \"},\"My Subscription\"),\" \")),/*#__PURE__*/React.createElement(\"br\",null),this.state.posts.length==0?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"No Posts Yet\")):this.state.posts.map(function(val){return/*#__PURE__*/React.createElement(\"div\",{className:\" container \"},_this3.state.editable&&_this3.state.editid==val.id?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){return _this3.handleSubmit(e,val.id);}},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-label-group\"},/*#__PURE__*/React.createElement(\"input\",{className:'form-control ',id:\"link\",placeholder:\"Link\",type:\"text\",name:\"link\",onChange:_this3.handleCreateLinkChange,autoFocus:true,required:true,value:_this3.state.link}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"link\"},\"Link\")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"form-label-group\"},/*#__PURE__*/React.createElement(\"input\",{className:'form-control ',id:\"description\",placeholder:\"Description\",type:\"text\",name:\"description\",onChange:_this3.handleCreateDescriptionChange,autoFocus:true,required:true,value:_this3.state.description}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"description\"},\"Description\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group editposts\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-danger \",onClick:_this3.editingHandler},\"Cancel\"),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary \",type:\"submit\"},\"Post \\xA0\\xA0\\xA0\"))),/*#__PURE__*/React.createElement(\"br\",null)):/*#__PURE__*/React.createElement(\"div\",{className:\"posts\"},val.created_at!=val.modified_at?/*#__PURE__*/React.createElement(\"h6\",{style:{textAlign:'left'}},' ',\"Modified at :\",' ',moment(val.modified_at).format('dddd, MMMM Do YYYY, h:mm:ss a'),' '):/*#__PURE__*/React.createElement(\"h6\",{style:{textAlign:'left'}},' ',\"Posted at :\",' ',moment(val.created_at).format('dddd, MMMM Do YYYY, h:mm:ss a'),' '),/*#__PURE__*/React.createElement(\"h3\",null,val.description),/*#__PURE__*/React.createElement(\"a\",{target:\"_blank\",href:val.link},/*#__PURE__*/React.createElement(\"h3\",null,\" \",val.link)),/*#__PURE__*/React.createElement(\"h3\",null,\"Upvote Count- \",val.upvote_count),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-danger\",onClick:function onClick(e){return _this3.deleteHandler(e,val.id);}},\"Delete\"),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",onClick:function onClick(e){return _this3.editHandler(e,val.id,val.link,val.description);}},\" Edit Post\")),/*#__PURE__*/React.createElement(\"br\",null));})));}}]);return Myposts;}(Component);export default Myposts;","map":{"version":3,"sources":["/home/parth/Documents/Github/resourcified-frontend/src/pages/myposts.js"],"names":["React","Component","axios","Link","Redirect","moment","Myposts","state","posts","subscription","myprofile","myposts","likedposts","editid","editable","link","description","handleCreateDescriptionChange","event","setState","target","value","handleCreateLinkChange","handleSubmit","postid","preventDefault","url","console","log","headers","Accept","Authorization","localStorage","getItem","bodyFormData","FormData","set","put","then","result","data","catch","error","window","setTimeout","location","reload","editingHandler","e","deleteHandler","id","delete","editHandler","props","history","push","get","marginRight","color","backgroundColor","length","map","val","created_at","modified_at","textAlign","format","upvote_count"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport moment from 'moment';\n\n\nexport class Myposts extends Component {\n\n    state = {\n        posts: [],\n        subscription: \"/mysubscription\",\n        myprofile: \"/userProfile\",\n        myposts: \"/myposts\",\n        likedposts: \"/likedposts\",\n        editid:0,\n        editable: false,\n        link: '',\n    description: ''\n    }\n\n    handleCreateDescriptionChange = event => {\n        this.setState({ description: event.target.value })\n      }\n    \n      handleCreateLinkChange = event => {\n        this.setState({ link: event.target.value })\n      }\n\n      handleSubmit =(event,postid)=>{\n        event.preventDefault()\n        const url = 'http://localhost:8000/api/posts/'+postid\n        console.log(url)\n    \n        const headers = {\n          'Content-Type': 'application/json',\n          Accept: 'application/json',\n          Authorization: `JWT ${localStorage.getItem('token')}`\n        }\n\n        const link = this.state.link\n        const description = this.state.description\n        \n        let bodyFormData = new FormData()\n        bodyFormData.set('link', link)\n        bodyFormData.set('description', description)\n       \n    \n        axios\n          .put(url, bodyFormData, { headers })\n          .then(result => {\n            console.log(result.data)\n          })\n          .catch(error => {\n            console.log(error)\n          })\n    \n          window.setTimeout(function(){window.location.reload()},500)\n      }\n\n    componentDidMount() {\n      if(!localStorage.getItem(\"isLoggedIn\")){\n        {\n          this.props.history.push(\"/\");  \n        }\n    }\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            Accept: \"application/json\",\n            Authorization: `JWT ${localStorage.getItem(\"token\")}`\n\n        };\n        const url = \"http://localhost:8000/api/posts?course=&created_by=\" + localStorage.getItem(\"userid\");\n        axios\n            .get(url, { headers })\n            .then((result) => {\n\n\n                this.setState({ posts: result.data });\n              this.setState({link:result.data.link});\n              this.setState({description:result.data.description});\n\n                console.log(result.data);\n            })\n            .catch((error) => {\n                console.log(error);\n\n            });\n    }\n\n    editingHandler=(e) => {\n      this.setState({editable:false});\n      \n    }\n    deleteHandler=(e,id)=>{\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            Accept: \"application/json\",\n            Authorization: `JWT ${localStorage.getItem(\"token\")}`\n\n        };\n        const url = \"http://localhost:8000/api/posts/\" + id;\n        axios\n            .delete(url, { headers })\n            .then((result) => {\n\n\n                // this.setState({ posts: result.data });\n\n\n                console.log(result.data);\n            })\n            .catch((error) => {\n                console.log(error);\n\n            });\n            window.setTimeout(function(){window.location.reload()},200)\n    }\n\n    editHandler=(e,id,link,description)=>{\n      this.setState({link:link});\n              this.setState({description:description});\n        this.setState({ editid: id });\n        this.setState({editable:true});\n\n    }\n    render() {\n        return (\n            <div>\n                <div className=\"container\">\n                    <div>\n\n                        <a type=\"button\" href={this.state.myprofile}><button style={{ marginRight: '4px' }} className=\"btn btn-outline-success \">My Profile</button></a>\n                        <a type=\"button\" href={this.state.myposts}><button style={{ marginRight: '4px', color: 'white', backgroundColor: \"green\" }} className=\"btn btn-outline-success \">My Posts</button></a>\n                        <a type=\"button\" href={this.state.likedposts}><button style={{ marginRight: '4px' }} className=\"btn btn-outline-success \">Liked Posts</button> </a>\n                        <a type=\"button\" href={this.state.subscription}><button style={{ marginRight: '4px' }} className=\"btn btn-outline-success \">My Subscription</button> </a>\n                    </div>\n                    <br></br>\n\n                    {this.state.posts.length == 0 ? <div><h2>No Posts Yet</h2></div> : this.state.posts.map((val) => {\n\n                        return (\n                            <div className=\" container \">\n                                {this.state.editable && this.state.editid==val.id?\n                                 <div>\n                                 <form onSubmit={(e) => this.handleSubmit(e, val.id)}>\n                                   <div className='form-group'>\n                                     <div className='form-label-group'>\n                                       <input\n                                         className={'form-control '}\n                                         id='link'\n                                         placeholder='Link'\n                                         type='text'\n                                         name='link'\n                                         onChange={this.handleCreateLinkChange}\n                                         autoFocus\n                                         required\n                                         value={this.state.link}\n                                       />\n                                       <label htmlFor='link'>Link</label>\n                                     </div>\n                   <br></br>\n                                     <div className='form-label-group'>\n                                       <input\n                                         className={'form-control '}\n                                         id='description'\n                                         placeholder='Description'\n                                         type='text'\n                                         name='description'\n                                         onChange={this.handleCreateDescriptionChange}\n                                         autoFocus\n                                         required\n                                         value={this.state.description}\n                                       />\n                                       <label htmlFor='description'>Description</label>\n                                     </div>\n                                   </div>\n                                  \n                                   <div className='form-group editposts' >\n                                   <button className='btn btn-danger ' onClick={this.editingHandler}>\n                                       Cancel \n                                     </button>\n                                     <button className='btn btn-primary ' type='submit'>\n                                       Post &nbsp;&nbsp;&nbsp;\n                                     </button>\n                                   </div>\n                                 </form>\n                                 <br></br>\n                               </div>\n                                :<div className=\"posts\">\n\n                                    \n{val.created_at!=val.modified_at?\n                    <h6 style={{ textAlign: 'left' }}>\n                    {' '}\n                    Modified at :{' '}\n                    {moment(val.modified_at).format(\n                      'dddd, MMMM Do YYYY, h:mm:ss a'\n                    )}{' '}\n                  </h6>:\n                  <h6 style={{ textAlign: 'left' }}>\n                      {' '}\n                      Posted at :{' '}\n                      {moment(val.created_at).format(\n                        'dddd, MMMM Do YYYY, h:mm:ss a'\n                      )}{' '}\n                    </h6>\n                    }\n                                    <h3>{val.description}</h3>\n\n                                    <a target=\"_blank\" href={val.link}><h3> {val.link}</h3></a>\n\n\n                                    <h3>Upvote Count- {val.upvote_count}</h3>\n                                    <button className=\"btn btn-danger\"  onClick={(e) => this.deleteHandler(e, val.id)}>Delete</button>\n                                    \n                                    <button className=\"btn btn-primary\"  onClick={(e) => this.editHandler(e, val.id,val.link,val.description)}> Edit Post</button>\n     \n\n\n\n                                </div>\n                    }\n                    <br></br>\n                            </div>\n                                \n\n                        );\n                    })}\n                    </div>\n                </div>\n                )\n    }\n}\n\n                export default Myposts\n"]},"metadata":{},"sourceType":"module"}