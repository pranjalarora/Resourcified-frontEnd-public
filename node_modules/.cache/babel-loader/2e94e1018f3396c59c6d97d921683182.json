{"ast":null,"code":"var _jsxFileName = \"/home/parth/Documents/Github/resourcified-frontend/src/pages/courses.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport moment from 'moment';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nexport class Courses extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      courses: [],\n      modalShow: false,\n      showId: 0\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        modalShow: false\n      });\n    };\n\n    this.handleShow = (e, id) => {\n      this.setState({\n        modalShow: true\n      });\n      this.setState({\n        showId: id\n      });\n    };\n\n    this.courseHandler = (e, id, name) => {\n      console.log(id);\n      console.log(name);\n      localStorage.setItem(\"course\", id);\n      const url = \"/posts/\" + localStorage.getItem('course');\n      this.props.history.push(url);\n    };\n\n    this.subscribeHandler = (e, id, subs) => {\n      if (!subs) {\n        // alert(\"Are you sure you want to Subscribe?\");\n        const url = \"http://localhost:8000/api/email-notification-subscription\";\n        const headers = {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n          Authorization: `JWT ${localStorage.getItem(\"token\")}`\n        };\n        const user = localStorage.getItem('userid');\n        const course = id;\n        let bodyFormData = new FormData();\n        bodyFormData.set(\"course\", course);\n        bodyFormData.set(\"user\", user);\n        axios.post(url, bodyFormData, {\n          headers\n        }).then(result => {\n          // this.setState({ profile: result.data });\n          console.log(result.data);\n        }).catch(error => {\n          console.log(error);\n        });\n      } else {\n        // alert(\"Are you sure you want to Unsubscribe?\");\n        const url = \"http://localhost:8000/api/email-notification-subscription/\" + subs;\n        const headers = {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n          Authorization: `JWT ${localStorage.getItem(\"token\")}`\n        };\n        axios.delete(url, {\n          headers\n        }).then(result => {\n          // this.setState({ profile: result.data });\n          console.log(result.data);\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n\n      this.handleClose();\n      window.setTimeout(function () {\n        window.location.reload();\n      }, 200);\n    };\n  }\n\n  componentDidMount() {\n    if (!localStorage.getItem(\"isLoggedIn\")) {\n      {\n        this.props.history.push(\"/\");\n      }\n    }\n\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\",\n      Authorization: `JWT ${localStorage.getItem(\"token\")}`\n    };\n    const url = \"http://localhost:8000/api/courses?branch=\" + this.props.match.params.id + \"&institute=\" + localStorage.getItem('institute');\n    axios.get(url, {\n      headers\n    }).then(result => {\n      this.setState({\n        courses: result.data\n      });\n      console.log(result.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    //console.log(this.props);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }\n    }, this.state.courses.length == 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 50\n      }\n    }, \"No Courses added\")) : this.state.courses.map(val => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \" container \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"btn-group \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        style: {\n          width: \"90%\",\n          textAlign: \"center\"\n        },\n        className: \"btn btn-outline-success btn-block crs\",\n        onClick: e => this.courseHandler(e, val.id, val.name),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }\n      }, val.name)), /*#__PURE__*/React.createElement(\"button\", {\n        style: {\n          width: \"40px\",\n          height: \"40px\"\n        },\n        className: val.email_notification_subscription ? \"btn btn-success btn-block \" : \"btn btn-secondary btn-block\",\n        variant: \"primary\",\n        onClick: e => this.handleShow(e, val.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 1\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        style: {\n          alignItems: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 19\n        }\n      }, val.email_notification_subscription ? /*#__PURE__*/React.createElement(\"i\", {\n        class: \"fas fa-bell-slash\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 90\n        }\n      }) : /*#__PURE__*/React.createElement(\"i\", {\n        class: \"fas fa-bell\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 125\n        }\n      }))), this.state.showId == val.id ? /*#__PURE__*/React.createElement(Modal, {\n        show: this.state.modalShow,\n        onHide: this.handleClose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Modal.Header, {\n        closeButton: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Modal.Title, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }\n      }, val.email_notification_subscription ? /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 61\n        }\n      }, \"Unsubscribe\") : /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 83\n        }\n      }, \"Subscribe\"))), /*#__PURE__*/React.createElement(Modal.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 9\n        }\n      }, val.email_notification_subscription ? /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }\n      }, \"Are you sure you want to unsubscribe \", val.name, \"?\") : /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 16\n        }\n      }, \"Are you sure you want to Subscribe \", val.name, \"?\")), /*#__PURE__*/React.createElement(Modal.Footer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"secondary\",\n        onClick: this.handleClose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }\n      }, \"Close\"), /*#__PURE__*/React.createElement(Button, {\n        variant: \"primary\",\n        onClick: e => this.subscribeHandler(e, val.id, val.email_notification_subscription),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }\n      }, \"Yes\"))) : /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 16\n        }\n      })), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 17\n        }\n      }));\n    })));\n  }\n\n}\nexport default Courses;","map":{"version":3,"sources":["/home/parth/Documents/Github/resourcified-frontend/src/pages/courses.js"],"names":["React","Component","axios","Link","Redirect","moment","Modal","Button","Courses","state","courses","modalShow","showId","handleClose","setState","handleShow","e","id","courseHandler","name","console","log","localStorage","setItem","url","getItem","props","history","push","subscribeHandler","subs","headers","Accept","Authorization","user","course","bodyFormData","FormData","set","post","then","result","data","catch","error","delete","window","setTimeout","location","reload","componentDidMount","match","params","get","render","length","map","val","width","textAlign","height","email_notification_subscription","alignItems"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport moment from 'moment';\nimport  Modal from 'react-bootstrap/Modal'\nimport Button from 'react-bootstrap/Button'\n\nexport class Courses extends Component {\n  state = {\n    \n    \n    courses: [],\n    modalShow:false,\n    showId:0\n    };\n\n    handleClose=()=>{\n        this.setState({modalShow:false});\n    }\n\n    handleShow=(e,id)=>{\n        this.setState({modalShow:true});\n        this.setState({showId:id});\n    }\n  \n\n  courseHandler = (e, id,name) => {\n    \nconsole.log(id);\nconsole.log(name);\nlocalStorage.setItem(\"course\",id);\n    const url = \"/posts/\" + localStorage.getItem('course');\n    this.props.history.push(url);\n\n\n  }\n\n  subscribeHandler=(e,id,subs)=>{\n\n    \n    if(!subs){\n      // alert(\"Are you sure you want to Subscribe?\");\n      const url=\"http://localhost:8000/api/email-notification-subscription\";\n      const headers = {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `JWT ${localStorage.getItem(\"token\")}`\n  \n      };\n      const user = localStorage.getItem('userid');\n    \n    \n    const course=id;\n    \n    let bodyFormData = new FormData();\n    bodyFormData.set(\"course\",course);\n    bodyFormData.set(\"user\", user);\n\n    axios\n    .post(url, bodyFormData, { headers })\n    .then((result) => {\n\n\n        // this.setState({ profile: result.data });\n\n\n        console.log(result.data);\n    })\n    .catch((error) => {\n        console.log(error);\n\n    });\n\n    }\n\n    else{\n      // alert(\"Are you sure you want to Unsubscribe?\");\n      const url=\"http://localhost:8000/api/email-notification-subscription/\"+subs;\n      const headers = {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `JWT ${localStorage.getItem(\"token\")}`\n  \n      };\n      \n    axios\n    .delete(url,  { headers })\n    .then((result) => {\n\n\n        // this.setState({ profile: result.data });\n\n\n        console.log(result.data);\n    })\n    .catch((error) => {\n        console.log(error);\n\n    });\n\n    }\n    this.handleClose();\n\n    \n    window.setTimeout(function(){window.location.reload()},200)\n  }\n  componentDidMount() {\n    if(!localStorage.getItem(\"isLoggedIn\")){\n      {\n        this.props.history.push(\"/\");  \n      }\n  }\n    const headers = {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `JWT ${localStorage.getItem(\"token\")}`\n  \n      };\n      const url = \"http://localhost:8000/api/courses?branch=\"+this.props.match.params.id+\"&institute=\"+ localStorage.getItem('institute');\n      axios\n        .get(url, { headers })\n        .then((result) => {\n  \n          \n          this.setState({ courses: result.data });\n          \n  \n          console.log(result.data);\n        })\n        .catch((error) => {\n          console.log(error);\n          \n        });\n  }\n  \n\n\n\n  render() {\n    //console.log(this.props);\n    return (\n      <div>\n\n        <div className=\"container\">\n          {this.state.courses.length == 0 ? <div><h1>No Courses added</h1></div> :\n          this.state.courses.map((val) => {\n            return (\n              <div className=\" container \">\n                <div className=\"btn-group \">\n                  \n                  <button style={{width: \"90%\", textAlign:\"center\"}}  className=\"btn btn-outline-success btn-block crs\" onClick={(e) => this.courseHandler(e, val.id,val.name)}>\n                    <h3>{val.name}</h3>\n                    \n                    \n                  </button>\n                  {/* <button  style={{width: \"40px\", height: \"40px\"}} className={val.email_notification_subscription?\"btn btn-success btn-block \":\"btn btn-secondary btn-block\"} onClick={(e) => this.subscribeHandler(e, val.id,val.email_notification_subscription)}>\n                    <h5 style={{alignItems:\"center\"}}>{val.email_notification_subscription?<i  class=\"fas fa-bell-slash\"></i>:<i  class=\"fas fa-bell\"></i>}</h5>\n                    \n                    \n                    \n                  </button> */}\n\n<button style={{width: \"40px\", height: \"40px\"}} className={val.email_notification_subscription?\"btn btn-success btn-block \":\"btn btn-secondary btn-block\"} variant=\"primary\" onClick={(e)=>this.handleShow(e,val.id)}>\n                  <h5 style={{alignItems:\"center\"}}>{val.email_notification_subscription?<i  class=\"fas fa-bell-slash\"></i>:<i  class=\"fas fa-bell\"></i>}</h5>\n      </button>\n\n{this.state.showId==val.id?\n      <Modal show={this.state.modalShow} onHide={this.handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>{val.email_notification_subscription?<h4>Unsubscribe</h4>: <h4>Subscribe</h4>}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n         {val.email_notification_subscription?\n          <p>\n            Are you sure you want to unsubscribe {val.name}?\n          </p>:<p>Are you sure you want to Subscribe {val.name}?</p>\n          }\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={this.handleClose}>\n            Close\n          </Button>\n          <Button variant=\"primary\" onClick={(e) => this.subscribeHandler(e, val.id,val.email_notification_subscription)}>\n            Yes\n          </Button>\n        </Modal.Footer>\n      </Modal>:<div></div>}\n                  \n                </div>\n                <br></br>\n              </div>\n\n            );\n          })\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Courses;\n"]},"metadata":{},"sourceType":"module"}