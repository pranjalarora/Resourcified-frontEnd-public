{"ast":null,"code":"var _jsxFileName = \"/home/parth/Documents/Github/teacher-pal/src/pages/attendanceDetail.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Calendar from 'react-calendar';\nimport { Link, Redirect } from \"react-router-dom\";\nimport moment from 'moment';\nexport class AttendanceDetail extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      date: new Date()\n    };\n\n    this.onChange = date => this.setState({\n      date\n    });\n\n    this.handlePost = event => {\n      console.log(localStorage.getItem(\"role\"));\n      console.log(localStorage.getItem(\"userid\"));\n      event.preventDefault();\n      const headers = {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `JWT ${localStorage.getItem(\"token\")}`\n      }; // Typical usage (don't forget to compare props):\n      //console.log(this.props);\n      //console.log(localStorage.getItem(\"token\"));\n\n      const url = \"http://localhost:8000/api/attendance-detail/\" + this.props.match.params.id;\n      console.log(url);\n      const date = this.state.date; //console.log(typeof(date));\n\n      const localDateString = date.toLocaleDateString('En-en'); //console.log(localDateString);\n\n      var formatted = moment(date).format('YYYY-MM-DD');\n      console.log(typeof formatted);\n      console.log(formatted);\n      const dt = new Date(formatted);\n      console.log(dt);\n      console.log(typeof dt); //const created_by = this.state.created_by;\n\n      let bodyFormData = new FormData();\n      bodyFormData.set(\"date\", formatted);\n      const body = JSON.stringify({\n        date: formatted\n      }); //console.log(body);\n      //bodyFormData.set(\"created_by\", created_by);\n      //console.log(\"cretaed\", created_by);\n      //console.log(typeof meet);\n\n      axios.post(url, body, {\n        headers\n      }).then(result => {\n        console.log(result);\n      }).catch(error => {\n        console.log(error);\n      });\n      window.location.reload();\n    };\n  }\n\n  render() {\n    //console.log(this.props);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-login mx-auto mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Calendar, {\n      onChange: this.onChange,\n      value: this.state.date,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary btn-block\",\n      onClick: this.handlePost,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 29\n      }\n    }, \"Show Attendance\")))));\n  }\n\n}\nexport default AttendanceDetail;","map":{"version":3,"sources":["/home/parth/Documents/Github/teacher-pal/src/pages/attendanceDetail.js"],"names":["React","Component","axios","Calendar","Link","Redirect","moment","AttendanceDetail","state","date","Date","onChange","setState","handlePost","event","console","log","localStorage","getItem","preventDefault","headers","Accept","Authorization","url","props","match","params","id","localDateString","toLocaleDateString","formatted","format","dt","bodyFormData","FormData","set","body","JSON","stringify","post","then","result","catch","error","window","location","reload","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Calendar from 'react-calendar';\nimport { Link, Redirect } from \"react-router-dom\";\nimport moment from 'moment';\n\nexport class AttendanceDetail extends Component {\n    state = {\n        date: new Date(),\n    }\n    onChange = date => this.setState({ date })\n\n    \n\n    handlePost = (event) => {\n        console.log(localStorage.getItem(\"role\"));\n        console.log(localStorage.getItem(\"userid\"));\n        event.preventDefault();\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            Accept: \"application/json\",\n            Authorization: `JWT ${localStorage.getItem(\"token\")}`,\n        };\n        // Typical usage (don't forget to compare props):\n        //console.log(this.props);\n        //console.log(localStorage.getItem(\"token\"));\n        const url = \"http://localhost:8000/api/attendance-detail/\" + this.props.match.params.id;\n        console.log(url);\n        const date = this.state.date;\n        //console.log(typeof(date));\n        \n\n        const localDateString = date.toLocaleDateString('En-en');\n        //console.log(localDateString);\n        var formatted = moment(date).format('YYYY-MM-DD');  \n        console.log(typeof(formatted)) \n        console.log(formatted);\n\n        const dt=new Date(formatted);\n        console.log(dt);\n        console.log(typeof(dt));\n        \n        \n        //const created_by = this.state.created_by;\n        let bodyFormData = new FormData();\n        \n        bodyFormData.set(\"date\", formatted);\n        \n        const body=JSON.stringify({\n          date:formatted\n        })\n        //console.log(body);\n        //bodyFormData.set(\"created_by\", created_by);\n        //console.log(\"cretaed\", created_by);\n        //console.log(typeof meet);\n        axios\n            .post(url, body, { headers })\n            .then((result) => {\n                console.log(result);\n            })\n            .catch((error) => {\n                console.log(error);\n            });\n        window.location.reload();\n    };\n\n    render() {\n        //console.log(this.props);\n        return (\n            <div>\n\n                <div className=\"container\">\n                    <div className=\"card card-login mx-auto mt-5\">\n                        <Calendar\n                            onChange={this.onChange}\n                            value={this.state.date}\n                            \n                        />\n                        \n                        <div className=\"form-group\">\n                            <button\n                                className=\"btn btn-primary btn-block\"\n                                onClick={this.handlePost}\n                            >\n                                Show Attendance\n\n                            </button>\n\n                        </div>\n\n                    </div>\n                    \n                </div>\n            </div>\n        );\n    }\n}\n\nexport default AttendanceDetail;\n"]},"metadata":{},"sourceType":"module"}