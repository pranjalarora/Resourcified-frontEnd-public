{"ast":null,"code":"import _classCallCheck from\"/home/parth/Documents/Github/resourcified-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/parth/Documents/Github/resourcified-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/parth/Documents/Github/resourcified-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/parth/Documents/Github/resourcified-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import{Link,Redirect}from\"react-router-dom\";import moment from'moment';export var Likedposts=/*#__PURE__*/function(_Component){_inherits(Likedposts,_Component);var _super=_createSuper(Likedposts);function Likedposts(){var _this;_classCallCheck(this,Likedposts);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={posts:[],subscription:\"/mysubscription\",myprofile:\"/userProfile\",myposts:\"/myposts\",likedposts:\"/likedposts\"};_this.upvoteHandler=function(e,id,val,upvoted){var headers={\"Content-Type\":\"application/json\",Accept:\"application/json\",Authorization:\"JWT \".concat(localStorage.getItem(\"token\"))};var url=\"http://localhost:8000/api/upvote\";var user=localStorage.getItem(\"userid\");var post=id;var bodyFormData=new FormData();bodyFormData.set(\"user\",user);bodyFormData.set(\"post\",post);console.log(user);console.log(post);axios.post(url,bodyFormData,{headers:headers}).then(function(result){// this.setState({ posts: result.data });\nconsole.log(result.data);}).catch(function(error){console.log(error);});window.setTimeout(function(){window.location.reload();},200);};return _this;}_createClass(Likedposts,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(!localStorage.getItem(\"isLoggedIn\")){{this.props.history.push(\"/\");}}var headers={\"Content-Type\":\"application/json\",Accept:\"application/json\",Authorization:\"JWT \".concat(localStorage.getItem(\"token\"))};var url=\"http://localhost:8000/api/posts?course=&created_by=\";axios.get(url,{headers:headers}).then(function(result){_this2.setState({posts:result.data});console.log(result.data);}).catch(function(error){console.log(error);});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"a\",{type:\"button\",href:this.state.myprofile},/*#__PURE__*/React.createElement(\"button\",{style:{marginRight:'4px'},className:\"btn btn-outline-success \"},\"My Profile\")),/*#__PURE__*/React.createElement(\"a\",{type:\"button\",href:this.state.myposts},/*#__PURE__*/React.createElement(\"button\",{style:{marginRight:'4px'},className:\"btn btn-outline-success \"},\"My Posts\")),/*#__PURE__*/React.createElement(\"a\",{type:\"button\",href:this.state.likedposts},/*#__PURE__*/React.createElement(\"button\",{style:{marginRight:'4px',color:'white',backgroundColor:\"green\"},className:\"btn btn-outline-success \"},\"Liked Posts\"),\" \"),/*#__PURE__*/React.createElement(\"a\",{type:\"button\",href:this.state.subscription},/*#__PURE__*/React.createElement(\"button\",{style:{marginRight:'4px'},className:\"btn btn-outline-success \"},\"My Subscription\"),\" \"))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",null,this.state.posts.length==0?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"No Posts Liked Ywt\")):this.state.posts.map(function(val){return/*#__PURE__*/React.createElement(\"div\",{className:\" container \"},val.is_already_upvoted?/*#__PURE__*/React.createElement(\"div\",{className:\"likedposts\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Posted By:- \",val.created_by.full_name,\" - \",val.created_by.email),/*#__PURE__*/React.createElement(\"h6\",{style:{textAlign:'left'}},\" Posted on : \",moment(val.created_at).format(\"dddd, MMMM Do YYYY, h:mm:ss a\"),\" \"),/*#__PURE__*/React.createElement(\"h3\",null,val.description),/*#__PURE__*/React.createElement(\"a\",{target:\"_blank\",href:val.link},/*#__PURE__*/React.createElement(\"h3\",null,\" \",val.link)),/*#__PURE__*/React.createElement(\"h4\",null,/*#__PURE__*/React.createElement(\"button\",{className:val.is_already_upvoted?\"btn btn-success\":\" btn btn-secondary\",onClick:function onClick(e){return _this3.upvoteHandler(e,val.id,val.upvote_count,val.is_already_upvoted);}},\"Upvote\"),/*#__PURE__*/React.createElement(\"span\",null),\" Upvote Count- \",val.upvote_count)):/*#__PURE__*/React.createElement(\"div\",null));})));}}]);return Likedposts;}(Component);export default Likedposts;","map":{"version":3,"sources":["/home/parth/Documents/Github/resourcified-frontend/src/pages/likedposts.js"],"names":["React","Component","axios","Link","Redirect","moment","Likedposts","state","posts","subscription","myprofile","myposts","likedposts","upvoteHandler","e","id","val","upvoted","headers","Accept","Authorization","localStorage","getItem","url","user","post","bodyFormData","FormData","set","console","log","then","result","data","catch","error","window","setTimeout","location","reload","props","history","push","get","setState","marginRight","color","backgroundColor","length","map","is_already_upvoted","created_by","full_name","email","textAlign","created_at","format","description","link","upvote_count"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport moment from 'moment';\n\n\nexport class Likedposts extends Component {\n\n    state = {\n        posts: [],\n        \n        subscription:\"/mysubscription\",\n        myprofile: \"/userProfile\",\n        myposts:\"/myposts\",\n        likedposts: \"/likedposts\"\n    }\n    componentDidMount() {\n      if(!localStorage.getItem(\"isLoggedIn\")){\n        {\n          this.props.history.push(\"/\");  \n        }\n    }\n        const headers = {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n          Authorization: `JWT ${localStorage.getItem(\"token\")}`\n    \n        };\n        const url = \"http://localhost:8000/api/posts?course=&created_by=\";\n        axios\n          .get(url, { headers })\n          .then((result) => {\n    \n    \n            this.setState({ posts: result.data });\n    \n    \n            console.log(result.data);\n          })\n          .catch((error) => {\n            console.log(error);\n    \n          });\n      }\n\n\n  upvoteHandler = (e, id, val,upvoted) => {\n\n    \n\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\",\n      Authorization: `JWT ${localStorage.getItem(\"token\")}`\n\n    };\n    const url = \"http://localhost:8000/api/upvote\";\n    const user = localStorage.getItem(\"userid\");\n    const post = id;\n    let bodyFormData = new FormData();\n    bodyFormData.set(\"user\", user);\n    bodyFormData.set(\"post\", post);\n\n    console.log(user); console.log(post);\n    axios\n      .post(url, bodyFormData, { headers })\n      .then((result) => {\n\n\n        // this.setState({ posts: result.data });\n\n\n        console.log(result.data);\n      })\n      .catch((error) => {\n        console.log(error);\n\n      });\n    \n      \n\n      window.setTimeout(function(){window.location.reload()},200)\n\n  }\n\n    render() {\n        return (\n            <div>\n                <div className=\"container\">\n                <div>\n\n<a type=\"button\" href={this.state.myprofile}><button style={{ marginRight: '4px' }} className=\"btn btn-outline-success \">My Profile</button></a>\n<a type=\"button\" href={this.state.myposts}><button style={{ marginRight: '4px' }} className=\"btn btn-outline-success \">My Posts</button></a>\n<a type=\"button\" href={this.state.likedposts}><button style={{ marginRight: '4px', color: 'white', backgroundColor: \"green\" }} className=\"btn btn-outline-success \">Liked Posts</button> </a>\n<a type=\"button\" href={this.state.subscription}><button style={{ marginRight: '4px' }} className=\"btn btn-outline-success \">My Subscription</button> </a>\n</div>\n            </div>\n            <br></br>\n\n            <div>\n            {this.state.posts.length == 0 ? <div><h2>No Posts Liked Ywt</h2></div> : this.state.posts.map((val) => {\n\nreturn (\n    \n  <div className=\" container \">\n      {val.is_already_upvoted?\n    <div className=\"likedposts\">\n      <h4>Posted By:- {val.created_by.full_name} - {val.created_by.email}</h4>\n      <h6 style={{ textAlign: 'left' }}> Posted on : {moment(val.created_at).format(\"dddd, MMMM Do YYYY, h:mm:ss a\")} </h6>\n      <h3>{val.description}</h3>\n\n      <a target=\"_blank\" href={val.link}><h3> {val.link}</h3></a>\n\n\n      <h4><button className={val.is_already_upvoted ? \"btn btn-success\" : \" btn btn-secondary\"} onClick={(e) => this.upvoteHandler(e, val.id, val.upvote_count,val.is_already_upvoted)}>Upvote</button>\n       <span></span> Upvote Count- {val.upvote_count}\n      </h4>\n\n      </div>:<div></div>\n            }\n\n    </div>\n    \n\n);\n})}\n            </div>\n            </div>\n        )\n    }\n}\n\nexport default Likedposts\n"]},"metadata":{},"sourceType":"module"}