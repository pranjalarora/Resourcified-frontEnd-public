{"ast":null,"code":"var _jsxFileName = \"/home/parth/Documents/Github/resourcified-frontend/src/pages/studentattendance.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Calendar from 'react-calendar';\nimport { Link, Redirect } from \"react-router-dom\";\nimport moment from 'moment';\nimport 'react-calendar/dist/Calendar.css';\nexport class StudentAttendance extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: [],\n      nodata: false,\n      attendance: \"/studentattendance/\" + localStorage.getItem('isbatch'),\n      quiz: \"/studentquiz/\" + localStorage.getItem('isbatch')\n    };\n  }\n\n  componentDidMount() {\n    console.log(localStorage.getItem(\"role\"));\n    console.log(localStorage.getItem(\"userid\"));\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\",\n      Authorization: `JWT ${localStorage.getItem(\"token\")}`\n    }; // Typical usage (don't forget to compare props):\n    //console.log(this.props);\n    //console.log(localStorage.getItem(\"token\"));\n\n    const url = \"http://localhost:8000/api/student-attendance-list/\" + this.props.match.params.id;\n    console.log(url); //console.log(typeof(date));\n    //console.log(localDateString);\n\n    axios.get(url, {\n      headers\n    }).then(result => {\n      console.log(result);\n      this.setState({\n        nodata: false\n      });\n      console.log(result.data);\n      this.setState({\n        data: result.data\n      });\n      console.log(this.state.data);\n      console.log(result.data[\"total_attendance_requests\"]);\n    }).catch(error => {\n      if (error.response) {\n        // The request was made and the server responded with a status code\n        // that falls out of the range of 2xx\n        console.log(error.response.data);\n        this.setState({\n          nodata: true\n        }); // console.log(error.response.status);\n        // console.log(error.response.headers);\n      } else if (error.request) {\n        // The request was made but no response was received\n        // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n        // http.ClientRequest in node.js\n        console.log(error.request);\n      } else {\n        // Something happened in setting up the request that triggered an Error\n        console.log('Error', error.message);\n      }\n\n      console.log(error.config);\n    }); //window.location.reload();\n  }\n\n  render() {\n    //console.log(this.props);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      type: \"button\",\n      href: this.state.quiz,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        marginRight: '4px'\n      },\n      className: \"btn btn-outline-success \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 61\n      }\n    }, \"Quizes\")), /*#__PURE__*/React.createElement(\"a\", {\n      type: \"button\",\n      href: this.state.attendance,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        marginRight: '4px',\n        color: 'white',\n        backgroundColor: \"green\"\n      },\n      className: \"btn btn-outline-success \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 67\n      }\n    }, \"Attendance\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    }, this.state.nodata ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 46\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 51\n      }\n    }, \"Total Attendence : 0\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 80\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 89\n      }\n    }, \"No attendence was responded\")) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 134\n      }\n    }, Object.keys(this.state.data).length == 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 71\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 76\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 85\n      }\n    }, \"No attendance taken\")) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 122\n      }\n    }, Object.keys(this.state.data).map((val, i, arr) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \" container attendancecardly\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 45\n        }\n      }, \"Date:- \", moment(val).format(\"dddd, MMMM Do YYYY\"), \" \"), /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 45\n        }\n      }, \"Total Attendence Count :\", this.state.data[val].total_attendance_count), /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 45\n        }\n      }, \"My Attendence Count: \", this.state.data[val].my_attendance_count), /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 45\n        }\n      }, \"My Attentivity: \", this.state.data[val].attentivity, \" %\"));\n    }))))));\n  }\n\n}\nexport default StudentAttendance;","map":{"version":3,"sources":["/home/parth/Documents/Github/resourcified-frontend/src/pages/studentattendance.js"],"names":["React","Component","axios","Calendar","Link","Redirect","moment","StudentAttendance","state","data","nodata","attendance","localStorage","getItem","quiz","componentDidMount","console","log","headers","Accept","Authorization","url","props","match","params","id","get","then","result","setState","catch","error","response","request","message","config","render","marginRight","color","backgroundColor","Object","keys","length","map","val","i","arr","format","total_attendance_count","my_attendance_count","attentivity"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Calendar from 'react-calendar';\nimport { Link, Redirect } from \"react-router-dom\";\nimport moment from 'moment';\nimport 'react-calendar/dist/Calendar.css';\n\nexport class StudentAttendance extends Component {\n    state = {\n\n        data: [],\n        nodata: false,\n        attendance: \"/studentattendance/\" + localStorage.getItem('isbatch'),\n        quiz: \"/studentquiz/\" + localStorage.getItem('isbatch'),\n\n    }\n\n\n\n\n\n    componentDidMount() {\n        console.log(localStorage.getItem(\"role\"));\n        console.log(localStorage.getItem(\"userid\"));\n\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            Accept: \"application/json\",\n            Authorization: `JWT ${localStorage.getItem(\"token\")}`,\n        };\n        // Typical usage (don't forget to compare props):\n        //console.log(this.props);\n        //console.log(localStorage.getItem(\"token\"));\n        const url = \"http://localhost:8000/api/student-attendance-list/\" + this.props.match.params.id;\n        console.log(url);\n\n        //console.log(typeof(date));\n\n\n\n        //console.log(localDateString);\n\n\n        axios\n            .get(url, { headers })\n            .then((result) => {\n                console.log(result);\n                this.setState({ nodata: false });\n                console.log(result.data);\n                this.setState({ data: result.data });\n                console.log(this.state.data)\n                console.log(result.data[\"total_attendance_requests\"]);\n            })\n            .catch((error) => {\n                if (error.response) {\n                    // The request was made and the server responded with a status code\n                    // that falls out of the range of 2xx\n                    console.log(error.response.data);\n                    this.setState({ nodata: true });\n                    // console.log(error.response.status);\n                    // console.log(error.response.headers);\n                } else if (error.request) {\n                    // The request was made but no response was received\n                    // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n                    // http.ClientRequest in node.js\n                    console.log(error.request);\n                } else {\n                    // Something happened in setting up the request that triggered an Error\n                    console.log('Error', error.message);\n                }\n                console.log(error.config);\n            });\n        //window.location.reload();\n    };\n\n    render() {\n        //console.log(this.props);\n        return (\n            <div >\n\n                <div>\n\n                    <a type=\"button\" href={this.state.quiz}><button style={{ marginRight: '4px' }} className=\"btn btn-outline-success \">Quizes</button></a>\n                    <a type=\"button\" href={this.state.attendance}><button style={{ marginRight: '4px', color: 'white', backgroundColor: \"green\" }} className=\"btn btn-outline-success \">Attendance</button></a>\n\n                </div>\n\n\n                <div className=\"container\">\n\n                    <div>\n                        {this.state.nodata ? <div><h2>Total Attendence : 0</h2><br></br><h2>No attendence was responded</h2></div> : <div>\n                            {Object.keys(this.state.data).length==0 ? <div><br></br><h1>No attendance taken</h1></div> : <div>\n                                {Object.keys(this.state.data).map((val, i, arr) => {\n\n                                    return (\n\n                                        <div className=\" container attendancecardly\">\n                                            <h3>Date:- {moment(val).format(\"dddd, MMMM Do YYYY\")} </h3>\n                                            <h4>Total Attendence Count :{this.state.data[val].total_attendance_count}</h4>\n                                            <h4>My Attendence Count: {this.state.data[val].my_attendance_count}</h4>\n                                            <h4>My Attentivity: {this.state.data[val].attentivity} %</h4>\n                                        </div>\n                                    );\n\n                                })}\n                            </div>\n                            }\n                        </div>\n                        }\n                    </div>\n\n\n\n\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default StudentAttendance;\n"]},"metadata":{},"sourceType":"module"}